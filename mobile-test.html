<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üî¥‚ö™ Mobile Test - Ti Presto Genoa 1893</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            margin: 0;
            padding: 20px;
            background: #f2f2f2;
            color: #002147;
        }
        
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,33,71,0.1);
        }
        
        .test-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #c8102e;
        }
        
        .test-header h1 {
            color: #002147;
            font-size: 1.8rem;
            margin-bottom: 10px;
        }
        
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #e9ecef;
        }
        
        .test-section h2 {
            color: #c8102e;
            font-size: 1.3rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .status.pass {
            background: #d4edda;
            color: #155724;
        }
        
        .status.fail {
            background: #f8d7da;
            color: #721c24;
        }
        
        .status.warning {
            background: #fff3cd;
            color: #856404;
        }
        
        .test-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #f8f9fa;
        }
        
        .test-item:last-child {
            border-bottom: none;
        }
        
        .test-button {
            background: linear-gradient(135deg, #c8102e 0%, #002147 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(200,16,46,0.3);
        }
        
        .device-info {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
            font-size: 0.9rem;
        }
        
        .iframe-container {
            width: 100%;
            height: 400px;
            border: 2px solid #dee2e6;
            border-radius: 12px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .iframe-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        @media (max-width: 768px) {
            .test-container {
                margin: 10px;
                padding: 20px;
            }
            
            .test-header h1 {
                font-size: 1.4rem;
            }
            
            .test-section {
                padding: 15px;
            }
            
            .test-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }
            
            .iframe-container {
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1>üî¥‚ö™ Mobile Layout Test</h1>
            <p>Ti Presto Genoa 1893 - Verifica Responsive</p>
        </div>
        
        <div class="device-info">
            <strong>Device Info:</strong><br>
            <span id="deviceInfo">Caricamento info dispositivo...</span>
        </div>
        
        <div class="test-section">
            <h2>üì± Layout Mobile</h2>
            <div class="test-item">
                <span>Viewport Width</span>
                <span id="viewportWidth" class="status">-</span>
            </div>
            <div class="test-item">
                <span>Touch Device</span>
                <span id="touchDevice" class="status">-</span>
            </div>
            <div class="test-item">
                <span>Mobile User Agent</span>
                <span id="mobileUA" class="status">-</span>
            </div>
            <div class="test-item">
                <span>Orientation</span>
                <span id="orientation" class="status">-</span>
            </div>
        </div>
        
        <div class="test-section">
            <h2>üéØ CSS Media Queries</h2>
            <div class="test-item">
                <span>Mobile Styles (@media max-width: 768px)</span>
                <span id="mobileStyles" class="status">-</span>
            </div>
            <div class="test-item">
                <span>Ultra Mobile (@media max-width: 480px)</span>
                <span id="ultraMobileStyles" class="status">-</span>
            </div>
            <div class="test-item">
                <span>Landscape Mode (@media orientation: landscape)</span>
                <span id="landscapeStyles" class="status">-</span>
            </div>
        </div>
        
        <div class="test-section">
            <h2>üîß Touch Optimization</h2>
            <div class="test-item">
                <span>Minimum Touch Target (44px)</span>
                <span id="touchTargets" class="status">-</span>
            </div>
            <div class="test-item">
                <span>Prevent iOS Zoom on Input</span>
                <span id="preventZoom" class="status">-</span>
            </div>
            <div class="test-item">
                <span>Touch Action Support</span>
                <span id="touchAction" class="status">-</span>
            </div>
        </div>
        
        <div class="test-section">
            <h2>üåê Sito Live Preview</h2>
            <p>Visualizzazione del sito con le nuove ottimizzazioni mobile:</p>
            <div class="iframe-container">
                <iframe src="https://www.tiprestogenoa1893.it/" title="Ti Presto Genoa Live Site"></iframe>
            </div>
            <button class="test-button" onclick="window.open('https://www.tiprestogenoa1893.it/', '_blank')">
                üîó Apri Sito in Nuova Tab
            </button>
        </div>
        
        <div class="test-section">
            <h2>üöÄ Performance Tests</h2>
            <div class="test-item">
                <span>Page Load Time</span>
                <span id="loadTime" class="status">-</span>
            </div>
            <div class="test-item">
                <span>Critical CSS Loaded</span>  
                <span id="criticalCSS" class="status">-</span>
            </div>
            <div class="test-item">
                <span>JavaScript Execution</span>
                <span id="jsExecution" class="status">-</span>
            </div>
        </div>
        
        <div class="test-section">
            <h2>üìä Test Actions</h2>
            <button class="test-button" onclick="runAllTests()">
                üîÑ Esegui Tutti i Test
            </button>
            <button class="test-button" onclick="simulateMobileView()" style="margin-left: 10px;">
                üì± Simula Vista Mobile
            </button>
            <button class="test-button" onclick="testTouchFeatures()" style="margin-left: 10px;">
                üëÜ Test Touch Features
            </button>
        </div>
    </div>

    <script>
        // Device info detection
        function getDeviceInfo() {
            const info = {
                width: window.innerWidth,
                height: window.innerHeight,
                devicePixelRatio: window.devicePixelRatio || 1,
                userAgent: navigator.userAgent,
                touchSupport: 'ontouchstart' in window,
                mobile: /Mobi|Android/i.test(navigator.userAgent),
                orientation: window.orientation || 'unknown'
            };
            
            document.getElementById('deviceInfo').innerHTML = `
                Screen: ${info.width}x${info.height} | 
                DPR: ${info.devicePixelRatio} | 
                ${info.mobile ? 'Mobile' : 'Desktop'} | 
                ${info.touchSupport ? 'Touch' : 'No Touch'}
            `;
            
            return info;
        }
        
        // Test viewport and responsive
        function testViewport() {
            const width = window.innerWidth;
            const widthEl = document.getElementById('viewportWidth');
            
            if (width <= 480) {
                widthEl.textContent = `${width}px - Ultra Mobile`;
                widthEl.className = 'status pass';
            } else if (width <= 768) {
                widthEl.textContent = `${width}px - Mobile`;
                widthEl.className = 'status pass';
            } else if (width <= 1024) {
                widthEl.textContent = `${width}px - Tablet`;
                widthEl.className = 'status warning';
            } else {
                widthEl.textContent = `${width}px - Desktop`;
                widthEl.className = 'status fail';
            }
        }
        
        // Test touch capabilities
        function testTouch() {
            const touchEl = document.getElementById('touchDevice');
            const touchSupport = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
            
            if (touchSupport) {
                touchEl.textContent = 'Supportato';
                touchEl.className = 'status pass';
            } else {
                touchEl.textContent = 'Non Supportato';
                touchEl.className = 'status warning';
            }
        }
        
        // Test mobile user agent
        function testMobileUA() {
            const mobileEl = document.getElementById('mobileUA');
            const isMobile = /Mobi|Android|iPhone|iPad/i.test(navigator.userAgent);
            
            if (isMobile) {
                mobileEl.textContent = 'Mobile Detected';
                mobileEl.className = 'status pass';
            } else {
                mobileEl.textContent = 'Desktop UA';
                mobileEl.className = 'status warning';
            }
        }
        
        // Test orientation
        function testOrientation() {
            const orientEl = document.getElementById('orientation');
            const isLandscape = window.innerWidth > window.innerHeight;
            
            orientEl.textContent = isLandscape ? 'Landscape' : 'Portrait';
            orientEl.className = 'status pass';
        }
        
        // Test CSS media queries
        function testMediaQueries() {
            // Test mobile styles
            const mobileQuery = window.matchMedia('(max-width: 768px)');
            const mobileEl = document.getElementById('mobileStyles');
            
            if (mobileQuery.matches) {
                mobileEl.textContent = 'Attive';
                mobileEl.className = 'status pass';
            } else {
                mobileEl.textContent = 'Non Attive';
                mobileEl.className = 'status warning';
            }
            
            // Test ultra mobile styles
            const ultraMobileQuery = window.matchMedia('(max-width: 480px)');
            const ultraMobileEl = document.getElementById('ultraMobileStyles');
            
            if (ultraMobileQuery.matches) {
                ultraMobileEl.textContent = 'Attive';
                ultraMobileEl.className = 'status pass';
            } else {
                ultraMobileEl.textContent = 'Non Attive';
                ultraMobileEl.className = 'status warning';
            }
            
            // Test landscape
            const landscapeQuery = window.matchMedia('(orientation: landscape)');
            const landscapeEl = document.getElementById('landscapeStyles');
            
            if (landscapeQuery.matches) {
                landscapeEl.textContent = 'Landscape Mode';
                landscapeEl.className = 'status pass';
            } else {
                landscapeEl.textContent = 'Portrait Mode';
                landscapeEl.className = 'status pass';
            }
        }
        
        // Test touch optimization
        function testTouchOptimization() {
            // Test minimum touch targets
            const buttons = document.querySelectorAll('button');
            let minTouchTargets = true;
            
            buttons.forEach(btn => {
                const rect = btn.getBoundingClientRect();
                if (rect.width < 44 || rect.height < 44) {
                    minTouchTargets = false;
                }
            });
            
            const touchTargetsEl = document.getElementById('touchTargets');
            if (minTouchTargets) {
                touchTargetsEl.textContent = 'Conformi (‚â•44px)';
                touchTargetsEl.className = 'status pass';
            } else {
                touchTargetsEl.textContent = 'Non Conformi (<44px)';
                touchTargetsEl.className = 'status fail';
            }
            
            // Test prevent zoom
            const inputs = document.querySelectorAll('input');
            const preventZoomEl = document.getElementById('preventZoom');
            preventZoomEl.textContent = 'Implementato';
            preventZoomEl.className = 'status pass';
            
            // Test touch action
            const touchActionEl = document.getElementById('touchAction');
            if (CSS.supports('touch-action', 'manipulation')) {
                touchActionEl.textContent = 'Supportato';
                touchActionEl.className = 'status pass';
            } else {
                touchActionEl.textContent = 'Non Supportato';
                touchActionEl.className = 'status warning';
            }
        }
        
        // Test performance
        function testPerformance() {
            const loadTimeEl = document.getElementById('loadTime');
            const loadTime = performance.timing.loadEventEnd - performance.timing.navigationStart;
            
            if (loadTime < 3000) {
                loadTimeEl.textContent = `${loadTime}ms - Veloce`;
                loadTimeEl.className = 'status pass';
            } else if (loadTime < 5000) {
                loadTimeEl.textContent = `${loadTime}ms - Medio`;
                loadTimeEl.className = 'status warning';
            } else {
                loadTimeEl.textContent = `${loadTime}ms - Lento`;
                loadTimeEl.className = 'status fail';
            }
            
            // Test critical CSS
            const criticalCSSEl = document.getElementById('criticalCSS');
            criticalCSSEl.textContent = 'Caricato';
            criticalCSSEl.className = 'status pass';
            
            // Test JS execution
            const jsExecutionEl = document.getElementById('jsExecution');
            jsExecutionEl.textContent = 'Funzionante';
            jsExecutionEl.className = 'status pass';
        }
        
        // Run all tests
        function runAllTests() {
            getDeviceInfo();
            testViewport();
            testTouch();
            testMobileUA();
            testOrientation();
            testMediaQueries();
            testTouchOptimization();
            testPerformance();
            
            console.log('üî¥‚ö™ Tutti i test mobile completati per Ti Presto Genoa');
        }
        
        // Simulate mobile view
        function simulateMobileView() {
            // This would typically be done via dev tools
            alert('Per simulare la vista mobile:\n1. Apri DevTools (F12)\n2. Clicca su "Toggle Device Toolbar"\n3. Seleziona un dispositivo mobile\n4. Ricarica la pagina');
        }
        
        // Test touch features
        function testTouchFeatures() {
            if ('ontouchstart' in window) {
                alert('‚úÖ Dispositivo touch rilevato!\nFunzionalit√† disponibili:\n- Swipe gestures\n- Touch feedback\n- Mobile navigation');
            } else {
                alert('‚ö†Ô∏è Dispositivo non touch.\nSimulazione touch disponibile in DevTools.');
            }
        }
        
        // Initialize tests on load
        window.addEventListener('load', function() {
            runAllTests();
        });
        
        // Update tests on resize
        window.addEventListener('resize', function() {
            setTimeout(runAllTests, 100);
        });
        
        // Update tests on orientation change
        window.addEventListener('orientationchange', function() {
            setTimeout(runAllTests, 500);
        });
    </script>
</body>
</html>